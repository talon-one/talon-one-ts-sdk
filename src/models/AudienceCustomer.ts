/* tslint:disable */
/* eslint-disable */
/**
 * Talon.One API
 * Use the Talon.One API to integrate with your application and to manage applications and campaigns:  - Use the operations in the [Integration API section](#integration-api) are used to integrate with our platform - Use the operation in the [Management API section](#management-api) to manage applications and campaigns.  ## Determining the base URL of the endpoints  The API is available at the same hostname as your Campaign Manager deployment. For example, if you access the Campaign Manager at `https://yourbaseurl.talon.one/`, the URL for the [updateCustomerSessionV2](https://docs.talon.one/integration-api#operation/updateCustomerSessionV2) endpoint is `https://yourbaseurl.talon.one/v2/customer_sessions/{Id}` 
 *
 * The version of the OpenAPI document: 
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

import { mapValues } from '../runtime';
import type { LoyaltyMembership } from './LoyaltyMembership';
import {
    LoyaltyMembershipFromJSON,
    LoyaltyMembershipFromJSONTyped,
    LoyaltyMembershipToJSON,
    LoyaltyMembershipToJSONTyped,
} from './LoyaltyMembership';
import type { AudienceMembership } from './AudienceMembership';
import {
    AudienceMembershipFromJSON,
    AudienceMembershipFromJSONTyped,
    AudienceMembershipToJSON,
    AudienceMembershipToJSONTyped,
} from './AudienceMembership';

/**
 * 
 * @export
 * @interface AudienceCustomer
 */
export interface AudienceCustomer {
    /**
     * The internal ID of the customer profile.
     * @type {number}
     * @memberof AudienceCustomer
     */
    id: number;
    /**
     * The time this entity was created.
     * @type {Date}
     * @memberof AudienceCustomer
     */
    created: Date;
    /**
     * The integration ID set by your integration layer.
     * @type {string}
     * @memberof AudienceCustomer
     */
    integrationId: string;
    /**
     * Arbitrary properties associated with this item.
     * @type {object}
     * @memberof AudienceCustomer
     */
    attributes?: object;
    /**
     * The ID of the Talon.One account that owns this profile.
     * @type {number}
     * @memberof AudienceCustomer
     */
    accountId: number;
    /**
     * The total number of closed sessions. Does not include closed sessions that have been cancelled or reopened. See the [docs](https://docs.talon.one/docs/dev/concepts/entities/customer-sessions#customer-session-states).
     * @type {number}
     * @memberof AudienceCustomer
     */
    closedSessions: number;
    /**
     * The total amount of money spent by the customer **before** discounts are applied.
     * 
     * The total sales amount excludes the following:
     * - Cancelled or reopened sessions.
     * - Returned items.
     * 
     * @type {number}
     * @memberof AudienceCustomer
     */
    totalSales: number;
    /**
     * **DEPRECATED. Always returns `null`.** A list of loyalty programs joined by the customer.
     * 
     * @type {Array<LoyaltyMembership>}
     * @memberof AudienceCustomer
     */
    loyaltyMemberships?: Array<LoyaltyMembership>;
    /**
     * The audiences the customer belongs to.
     * @type {Array<AudienceMembership>}
     * @memberof AudienceCustomer
     */
    audienceMemberships?: Array<AudienceMembership>;
    /**
     * Timestamp of the most recent event received from this customer.
     * This field is updated on calls that trigger the Rule Engine and that are
     * not [dry requests](https://docs.talon.one/docs/dev/integration-api/dry-requests/#overlay).
     * 
     * For example, [reserving a coupon](https://docs.talon.one/integration-api#operation/createCouponReservation)
     * for a customer doesn't impact this field.
     * 
     * @type {Date}
     * @memberof AudienceCustomer
     */
    lastActivity: Date;
    /**
     * An indicator of whether the customer is part of a sandbox or live Application. See the [docs](https://docs.talon.one/docs/product/applications/overview#application-environments).
     * 
     * @type {boolean}
     * @memberof AudienceCustomer
     */
    sandbox?: boolean;
    /**
     * A list of the IDs of the Applications that are connected to this customer profile.
     * @type {Array<number>}
     * @memberof AudienceCustomer
     */
    connectedApplicationsIds?: Array<number>;
    /**
     * A list of the IDs of the audiences that are connected to this customer profile.
     * @type {Array<number>}
     * @memberof AudienceCustomer
     */
    connectedAudiences?: Array<number>;
}

/**
 * Check if a given object implements the AudienceCustomer interface.
 */
export function instanceOfAudienceCustomer(value: object): value is AudienceCustomer {
    if (!('id' in value) || value['id'] === undefined) return false;
    if (!('created' in value) || value['created'] === undefined) return false;
    if (!('integrationId' in value) || value['integrationId'] === undefined) return false;
    if (!('accountId' in value) || value['accountId'] === undefined) return false;
    if (!('closedSessions' in value) || value['closedSessions'] === undefined) return false;
    if (!('totalSales' in value) || value['totalSales'] === undefined) return false;
    if (!('lastActivity' in value) || value['lastActivity'] === undefined) return false;
    return true;
}

export function AudienceCustomerFromJSON(json: any): AudienceCustomer {
    return AudienceCustomerFromJSONTyped(json, false);
}

export function AudienceCustomerFromJSONTyped(json: any, ignoreDiscriminator: boolean): AudienceCustomer {
    if (json == null) {
        return json;
    }
    return {
        
        'id': json['id'],
        'created': (new Date(json['created'])),
        'integrationId': json['integrationId'],
        'attributes': json['attributes'] == null ? undefined : json['attributes'],
        'accountId': json['accountId'],
        'closedSessions': json['closedSessions'],
        'totalSales': json['totalSales'],
        'loyaltyMemberships': json['loyaltyMemberships'] == null ? undefined : ((json['loyaltyMemberships'] as Array<any>).map(LoyaltyMembershipFromJSON)),
        'audienceMemberships': json['audienceMemberships'] == null ? undefined : ((json['audienceMemberships'] as Array<any>).map(AudienceMembershipFromJSON)),
        'lastActivity': (new Date(json['lastActivity'])),
        'sandbox': json['sandbox'] == null ? undefined : json['sandbox'],
        'connectedApplicationsIds': json['connectedApplicationsIds'] == null ? undefined : json['connectedApplicationsIds'],
        'connectedAudiences': json['connectedAudiences'] == null ? undefined : json['connectedAudiences'],
    };
}

export function AudienceCustomerToJSON(json: any): AudienceCustomer {
    return AudienceCustomerToJSONTyped(json, false);
}

export function AudienceCustomerToJSONTyped(value?: AudienceCustomer | null, ignoreDiscriminator: boolean = false): any {
    if (value == null) {
        return value;
    }

    return {
        
        'id': value['id'],
        'created': value['created'].toISOString(),
        'integrationId': value['integrationId'],
        'attributes': value['attributes'],
        'accountId': value['accountId'],
        'closedSessions': value['closedSessions'],
        'totalSales': value['totalSales'],
        'loyaltyMemberships': value['loyaltyMemberships'] == null ? undefined : ((value['loyaltyMemberships'] as Array<any>).map(LoyaltyMembershipToJSON)),
        'audienceMemberships': value['audienceMemberships'] == null ? undefined : ((value['audienceMemberships'] as Array<any>).map(AudienceMembershipToJSON)),
        'lastActivity': value['lastActivity'].toISOString(),
        'sandbox': value['sandbox'],
        'connectedApplicationsIds': value['connectedApplicationsIds'],
        'connectedAudiences': value['connectedAudiences'],
    };
}

