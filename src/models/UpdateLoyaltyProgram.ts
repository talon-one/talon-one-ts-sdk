/* tslint:disable */
/* eslint-disable */
/**
 * Talon.One API
 * Use the Talon.One API to integrate with your application and to manage applications and campaigns:  - Use the operations in the [Integration API section](#integration-api) are used to integrate with our platform - Use the operation in the [Management API section](#management-api) to manage applications and campaigns.  ## Determining the base URL of the endpoints  The API is available at the same hostname as your Campaign Manager deployment. For example, if you access the Campaign Manager at `https://yourbaseurl.talon.one/`, the URL for the [updateCustomerSessionV2](https://docs.talon.one/integration-api#operation/updateCustomerSessionV2) endpoint is `https://yourbaseurl.talon.one/v2/customer_sessions/{Id}` 
 *
 * The version of the OpenAPI document: 
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

import { mapValues } from '../runtime';
import type { CodeGeneratorSettings } from './CodeGeneratorSettings';
import {
    CodeGeneratorSettingsFromJSON,
    CodeGeneratorSettingsFromJSONTyped,
    CodeGeneratorSettingsToJSON,
    CodeGeneratorSettingsToJSONTyped,
} from './CodeGeneratorSettings';
import type { NewLoyaltyTier } from './NewLoyaltyTier';
import {
    NewLoyaltyTierFromJSON,
    NewLoyaltyTierFromJSONTyped,
    NewLoyaltyTierToJSON,
    NewLoyaltyTierToJSONTyped,
} from './NewLoyaltyTier';

/**
 * 
 * @export
 * @interface UpdateLoyaltyProgram
 */
export interface UpdateLoyaltyProgram {
    /**
     * The display title for the Loyalty Program.
     * @type {string}
     * @memberof UpdateLoyaltyProgram
     */
    title?: string;
    /**
     * Description of our Loyalty Program.
     * @type {string}
     * @memberof UpdateLoyaltyProgram
     */
    description?: string;
    /**
     * A list containing the IDs of all applications that are subscribed to this Loyalty Program.
     * @type {Array<number>}
     * @memberof UpdateLoyaltyProgram
     */
    subscribedApplications?: Array<number>;
    /**
     * The default duration after which new loyalty points should expire. Can be 'unlimited' or a specific time.
     * The time format is a number followed by one letter indicating the time unit, like '30s', '40m', '1h', '5D', '7W', or 10M'. These rounding suffixes are also supported:
     * - '_D' for rounding down. Can be used as a suffix after 'D', and signifies the start of the day.
     * - '_U' for rounding up. Can be used as a suffix after 'D', 'W', and 'M', and signifies the end of the day, week, and month.
     * 
     * @type {string}
     * @memberof UpdateLoyaltyProgram
     */
    defaultValidity?: string;
    /**
     * The default duration of the pending time after which points should be valid. Accepted values: 'immediate', 'on_action' or a specific time.
     * The time format is a number followed by one letter indicating the time unit, like '30s', '40m', '1h', '5D', '7W', or 10M'. These rounding suffixes are also supported:
     * - '_D' for rounding down. Can be used as a suffix after 'D', and signifies the start of the day.
     * - '_U' for rounding up. Can be used as a suffix after 'D', 'W', and 'M', and signifies the end of the day, week, and month.
     * 
     * @type {string}
     * @memberof UpdateLoyaltyProgram
     */
    defaultPending?: string;
    /**
     * Indicates if this program supports subledgers inside the program.
     * @type {boolean}
     * @memberof UpdateLoyaltyProgram
     */
    allowSubledger?: boolean;
    /**
     * The max amount of user profiles with whom a card can be shared. This can be set to 0 for no limit.
     * This property is only used when `cardBased` is `true`.
     * 
     * @type {number}
     * @memberof UpdateLoyaltyProgram
     */
    usersPerCardLimit?: number;
    /**
     * Indicates if this program is a live or sandbox program. Programs of a given type can only be connected to Applications of the same type.
     * @type {boolean}
     * @memberof UpdateLoyaltyProgram
     */
    sandbox?: boolean;
    /**
     * The policy that defines when the customer joins the loyalty program.
     *   - `not_join`: The customer does not join the loyalty program but can still earn and spend loyalty points.
     * 
     *      **Note**: The customer does not have a program join date.
     *   - `points_activated`: The customer joins the loyalty program only when their earned loyalty points become active for the first time.
     *   - `points_earned`: The customer joins the loyalty program when they earn loyalty points for the first time.
     * 
     * @type {string}
     * @memberof UpdateLoyaltyProgram
     */
    programJoinPolicy?: UpdateLoyaltyProgramProgramJoinPolicyEnum;
    /**
     * The policy that defines how tier expiration, used to reevaluate the customer's current tier, is determined.
     *  - `tier_start_date`: The tier expiration is relative to when the customer joined the current tier.
     *  - `program_join_date`: The tier expiration is relative to when the customer joined the loyalty program.
     *  - `customer_attribute`: The tier expiration is determined by a custom customer attribute.
     *  - `absolute_expiration`: The tier is reevaluated at the start of each tier cycle. For this policy, it is required to provide a `tierCycleStartDate`.
     * 
     * @type {string}
     * @memberof UpdateLoyaltyProgram
     */
    tiersExpirationPolicy?: UpdateLoyaltyProgramTiersExpirationPolicyEnum;
    /**
     * Timestamp at which the tier cycle starts for all customers in the loyalty program.
     * 
     * **Note**: This is only required when the tier expiration policy is set to `absolute_expiration`.
     * 
     * @type {Date}
     * @memberof UpdateLoyaltyProgram
     */
    tierCycleStartDate?: Date;
    /**
     * The amount of time after which the tier expires and is reevaluated.
     * 
     * The time format is an **integer** followed by one letter indicating the time unit.
     * Examples: `30s`, `40m`, `1h`, `5D`, `7W`, `10M`, `15Y`.
     * 
     * Available units:
     * 
     * - `s`: seconds
     * - `m`: minutes
     * - `h`: hours
     * - `D`: days
     * - `W`: weeks
     * - `M`: months
     * - `Y`: years
     * 
     * You can round certain units up or down:
     * - `_D` for rounding down days only. Signifies the start of the day.
     * - `_U` for rounding up days, weeks, months and years. Signifies the end of the day, week, month or year.
     * 
     * @type {string}
     * @memberof UpdateLoyaltyProgram
     */
    tiersExpireIn?: string;
    /**
     * The policy that defines how customer tiers are downgraded in the loyalty program after tier reevaluation.
     *  - `one_down`: If the customer doesn't have enough points to stay in the current tier, they are downgraded by one tier.
     *  - `balance_based`: The customer's tier is reevaluated based on the amount of active points they have at the moment.
     * 
     * @type {string}
     * @memberof UpdateLoyaltyProgram
     */
    tiersDowngradePolicy?: UpdateLoyaltyProgramTiersDowngradePolicyEnum;
    /**
     * 
     * @type {CodeGeneratorSettings}
     * @memberof UpdateLoyaltyProgram
     */
    cardCodeSettings?: CodeGeneratorSettings;
    /**
     * The policy that defines the rollback of points in case of a partially returned, cancelled, or reopened [customer session](https://docs.talon.one/docs/dev/concepts/entities/customer-sessions).
     * - `only_pending`: Only pending points can be rolled back.
     * - `within_balance`: Available active points can be rolled back if there aren't enough pending points. The active balance of the customer cannot be negative.
     * - `unlimited`: Allows negative balance without any limit.
     * 
     * @type {string}
     * @memberof UpdateLoyaltyProgram
     */
    returnPolicy?: UpdateLoyaltyProgramReturnPolicyEnum;
    /**
     * The tiers in this loyalty program.
     * @type {Array<NewLoyaltyTier>}
     * @memberof UpdateLoyaltyProgram
     */
    tiers?: Array<NewLoyaltyTier>;
}


/**
 * @export
 */
export const UpdateLoyaltyProgramProgramJoinPolicyEnum = {
    NotJoin: 'not_join',
    PointsActivated: 'points_activated',
    PointsEarned: 'points_earned'
} as const;
export type UpdateLoyaltyProgramProgramJoinPolicyEnum = typeof UpdateLoyaltyProgramProgramJoinPolicyEnum[keyof typeof UpdateLoyaltyProgramProgramJoinPolicyEnum];

/**
 * @export
 */
export const UpdateLoyaltyProgramTiersExpirationPolicyEnum = {
    TierStartDate: 'tier_start_date',
    ProgramJoinDate: 'program_join_date',
    CustomerAttribute: 'customer_attribute',
    AbsoluteExpiration: 'absolute_expiration'
} as const;
export type UpdateLoyaltyProgramTiersExpirationPolicyEnum = typeof UpdateLoyaltyProgramTiersExpirationPolicyEnum[keyof typeof UpdateLoyaltyProgramTiersExpirationPolicyEnum];

/**
 * @export
 */
export const UpdateLoyaltyProgramTiersDowngradePolicyEnum = {
    OneDown: 'one_down',
    BalanceBased: 'balance_based'
} as const;
export type UpdateLoyaltyProgramTiersDowngradePolicyEnum = typeof UpdateLoyaltyProgramTiersDowngradePolicyEnum[keyof typeof UpdateLoyaltyProgramTiersDowngradePolicyEnum];

/**
 * @export
 */
export const UpdateLoyaltyProgramReturnPolicyEnum = {
    OnlyPending: 'only_pending',
    WithinBalance: 'within_balance',
    Unlimited: 'unlimited'
} as const;
export type UpdateLoyaltyProgramReturnPolicyEnum = typeof UpdateLoyaltyProgramReturnPolicyEnum[keyof typeof UpdateLoyaltyProgramReturnPolicyEnum];


/**
 * Check if a given object implements the UpdateLoyaltyProgram interface.
 */
export function instanceOfUpdateLoyaltyProgram(value: object): value is UpdateLoyaltyProgram {
    return true;
}

export function UpdateLoyaltyProgramFromJSON(json: any): UpdateLoyaltyProgram {
    return UpdateLoyaltyProgramFromJSONTyped(json, false);
}

export function UpdateLoyaltyProgramFromJSONTyped(json: any, ignoreDiscriminator: boolean): UpdateLoyaltyProgram {
    if (json == null) {
        return json;
    }
    return {
        
        'title': json['title'] == null ? undefined : json['title'],
        'description': json['description'] == null ? undefined : json['description'],
        'subscribedApplications': json['subscribedApplications'] == null ? undefined : json['subscribedApplications'],
        'defaultValidity': json['defaultValidity'] == null ? undefined : json['defaultValidity'],
        'defaultPending': json['defaultPending'] == null ? undefined : json['defaultPending'],
        'allowSubledger': json['allowSubledger'] == null ? undefined : json['allowSubledger'],
        'usersPerCardLimit': json['usersPerCardLimit'] == null ? undefined : json['usersPerCardLimit'],
        'sandbox': json['sandbox'] == null ? undefined : json['sandbox'],
        'programJoinPolicy': json['programJoinPolicy'] == null ? undefined : json['programJoinPolicy'],
        'tiersExpirationPolicy': json['tiersExpirationPolicy'] == null ? undefined : json['tiersExpirationPolicy'],
        'tierCycleStartDate': json['tierCycleStartDate'] == null ? undefined : (new Date(json['tierCycleStartDate'])),
        'tiersExpireIn': json['tiersExpireIn'] == null ? undefined : json['tiersExpireIn'],
        'tiersDowngradePolicy': json['tiersDowngradePolicy'] == null ? undefined : json['tiersDowngradePolicy'],
        'cardCodeSettings': json['cardCodeSettings'] == null ? undefined : CodeGeneratorSettingsFromJSON(json['cardCodeSettings']),
        'returnPolicy': json['returnPolicy'] == null ? undefined : json['returnPolicy'],
        'tiers': json['tiers'] == null ? undefined : ((json['tiers'] as Array<any>).map(NewLoyaltyTierFromJSON)),
    };
}

export function UpdateLoyaltyProgramToJSON(json: any): UpdateLoyaltyProgram {
    return UpdateLoyaltyProgramToJSONTyped(json, false);
}

export function UpdateLoyaltyProgramToJSONTyped(value?: UpdateLoyaltyProgram | null, ignoreDiscriminator: boolean = false): any {
    if (value == null) {
        return value;
    }

    return {
        
        'title': value['title'],
        'description': value['description'],
        'subscribedApplications': value['subscribedApplications'],
        'defaultValidity': value['defaultValidity'],
        'defaultPending': value['defaultPending'],
        'allowSubledger': value['allowSubledger'],
        'usersPerCardLimit': value['usersPerCardLimit'],
        'sandbox': value['sandbox'],
        'programJoinPolicy': value['programJoinPolicy'],
        'tiersExpirationPolicy': value['tiersExpirationPolicy'],
        'tierCycleStartDate': value['tierCycleStartDate'] == null ? value['tierCycleStartDate'] : value['tierCycleStartDate'].toISOString(),
        'tiersExpireIn': value['tiersExpireIn'],
        'tiersDowngradePolicy': value['tiersDowngradePolicy'],
        'cardCodeSettings': CodeGeneratorSettingsToJSON(value['cardCodeSettings']),
        'returnPolicy': value['returnPolicy'],
        'tiers': value['tiers'] == null ? undefined : ((value['tiers'] as Array<any>).map(NewLoyaltyTierToJSON)),
    };
}

