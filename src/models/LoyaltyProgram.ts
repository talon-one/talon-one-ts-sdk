/* tslint:disable */
/* eslint-disable */
/**
 * Talon.One API
 * Use the Talon.One API to integrate with your application and to manage applications and campaigns:  - Use the operations in the [Integration API section](#integration-api) are used to integrate with our platform - Use the operation in the [Management API section](#management-api) to manage applications and campaigns.  ## Determining the base URL of the endpoints  The API is available at the same hostname as your Campaign Manager deployment. For example, if you access the Campaign Manager at `https://yourbaseurl.talon.one/`, the URL for the [updateCustomerSessionV2](https://docs.talon.one/integration-api#operation/updateCustomerSessionV2) endpoint is `https://yourbaseurl.talon.one/v2/customer_sessions/{Id}` 
 *
 * The version of the OpenAPI document: 
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

import { mapValues } from '../runtime';
import type { CodeGeneratorSettings } from './CodeGeneratorSettings';
import {
    CodeGeneratorSettingsFromJSON,
    CodeGeneratorSettingsFromJSONTyped,
    CodeGeneratorSettingsToJSON,
    CodeGeneratorSettingsToJSONTyped,
} from './CodeGeneratorSettings';
import type { LoyaltyTier } from './LoyaltyTier';
import {
    LoyaltyTierFromJSON,
    LoyaltyTierFromJSONTyped,
    LoyaltyTierToJSON,
    LoyaltyTierToJSONTyped,
} from './LoyaltyTier';

/**
 * 
 * @export
 * @interface LoyaltyProgram
 */
export interface LoyaltyProgram {
    /**
     * The ID of loyalty program.
     * @type {number}
     * @memberof LoyaltyProgram
     */
    id: number;
    /**
     * The time this entity was created.
     * @type {Date}
     * @memberof LoyaltyProgram
     */
    created: Date;
    /**
     * The display title for the Loyalty Program.
     * @type {string}
     * @memberof LoyaltyProgram
     */
    title?: string;
    /**
     * Description of our Loyalty Program.
     * @type {string}
     * @memberof LoyaltyProgram
     */
    description?: string;
    /**
     * A list containing the IDs of all applications that are subscribed to this Loyalty Program.
     * @type {Array<number>}
     * @memberof LoyaltyProgram
     */
    subscribedApplications?: Array<number>;
    /**
     * The default duration after which new loyalty points should expire. Can be 'unlimited' or a specific time.
     * The time format is a number followed by one letter indicating the time unit, like '30s', '40m', '1h', '5D', '7W', or 10M'. These rounding suffixes are also supported:
     * - '_D' for rounding down. Can be used as a suffix after 'D', and signifies the start of the day.
     * - '_U' for rounding up. Can be used as a suffix after 'D', 'W', and 'M', and signifies the end of the day, week, and month.
     * 
     * @type {string}
     * @memberof LoyaltyProgram
     */
    defaultValidity?: string;
    /**
     * The default duration of the pending time after which points should be valid. Accepted values: 'immediate', 'on_action' or a specific time.
     * The time format is a number followed by one letter indicating the time unit, like '30s', '40m', '1h', '5D', '7W', or 10M'. These rounding suffixes are also supported:
     * - '_D' for rounding down. Can be used as a suffix after 'D', and signifies the start of the day.
     * - '_U' for rounding up. Can be used as a suffix after 'D', 'W', and 'M', and signifies the end of the day, week, and month.
     * 
     * @type {string}
     * @memberof LoyaltyProgram
     */
    defaultPending?: string;
    /**
     * Indicates if this program supports subledgers inside the program.
     * @type {boolean}
     * @memberof LoyaltyProgram
     */
    allowSubledger?: boolean;
    /**
     * The max amount of user profiles with whom a card can be shared. This can be set to 0 for no limit.
     * This property is only used when `cardBased` is `true`.
     * 
     * @type {number}
     * @memberof LoyaltyProgram
     */
    usersPerCardLimit?: number;
    /**
     * Indicates if this program is a live or sandbox program. Programs of a given type can only be connected to Applications of the same type.
     * @type {boolean}
     * @memberof LoyaltyProgram
     */
    sandbox?: boolean;
    /**
     * The policy that defines when the customer joins the loyalty program.
     *   - `not_join`: The customer does not join the loyalty program but can still earn and spend loyalty points.
     * 
     *      **Note**: The customer does not have a program join date.
     *   - `points_activated`: The customer joins the loyalty program only when their earned loyalty points become active for the first time.
     *   - `points_earned`: The customer joins the loyalty program when they earn loyalty points for the first time.
     * 
     * @type {string}
     * @memberof LoyaltyProgram
     */
    programJoinPolicy?: LoyaltyProgramProgramJoinPolicyEnum;
    /**
     * The policy that defines how tier expiration, used to reevaluate the customer's current tier, is determined.
     *  - `tier_start_date`: The tier expiration is relative to when the customer joined the current tier.
     *  - `program_join_date`: The tier expiration is relative to when the customer joined the loyalty program.
     *  - `customer_attribute`: The tier expiration is determined by a custom customer attribute.
     *  - `absolute_expiration`: The tier is reevaluated at the start of each tier cycle. For this policy, it is required to provide a `tierCycleStartDate`.
     * 
     * @type {string}
     * @memberof LoyaltyProgram
     */
    tiersExpirationPolicy?: LoyaltyProgramTiersExpirationPolicyEnum;
    /**
     * Timestamp at which the tier cycle starts for all customers in the loyalty program.
     * 
     * **Note**: This is only required when the tier expiration policy is set to `absolute_expiration`.
     * 
     * @type {Date}
     * @memberof LoyaltyProgram
     */
    tierCycleStartDate?: Date;
    /**
     * The amount of time after which the tier expires and is reevaluated.
     * 
     * The time format is an **integer** followed by one letter indicating the time unit.
     * Examples: `30s`, `40m`, `1h`, `5D`, `7W`, `10M`, `15Y`.
     * 
     * Available units:
     * 
     * - `s`: seconds
     * - `m`: minutes
     * - `h`: hours
     * - `D`: days
     * - `W`: weeks
     * - `M`: months
     * - `Y`: years
     * 
     * You can round certain units up or down:
     * - `_D` for rounding down days only. Signifies the start of the day.
     * - `_U` for rounding up days, weeks, months and years. Signifies the end of the day, week, month or year.
     * 
     * @type {string}
     * @memberof LoyaltyProgram
     */
    tiersExpireIn?: string;
    /**
     * The policy that defines how customer tiers are downgraded in the loyalty program after tier reevaluation.
     *  - `one_down`: If the customer doesn't have enough points to stay in the current tier, they are downgraded by one tier.
     *  - `balance_based`: The customer's tier is reevaluated based on the amount of active points they have at the moment.
     * 
     * @type {string}
     * @memberof LoyaltyProgram
     */
    tiersDowngradePolicy?: LoyaltyProgramTiersDowngradePolicyEnum;
    /**
     * 
     * @type {CodeGeneratorSettings}
     * @memberof LoyaltyProgram
     */
    cardCodeSettings?: CodeGeneratorSettings;
    /**
     * The policy that defines the rollback of points in case of a partially returned, cancelled, or reopened [customer session](https://docs.talon.one/docs/dev/concepts/entities/customer-sessions).
     * - `only_pending`: Only pending points can be rolled back.
     * - `within_balance`: Available active points can be rolled back if there aren't enough pending points. The active balance of the customer cannot be negative.
     * - `unlimited`: Allows negative balance without any limit.
     * 
     * @type {string}
     * @memberof LoyaltyProgram
     */
    returnPolicy?: LoyaltyProgramReturnPolicyEnum;
    /**
     * The ID of the Talon.One account that owns this program.
     * @type {number}
     * @memberof LoyaltyProgram
     */
    accountID: number;
    /**
     * The internal name for the Loyalty Program. This is an immutable value.
     * @type {string}
     * @memberof LoyaltyProgram
     */
    name: string;
    /**
     * The tiers in this loyalty program.
     * @type {Array<LoyaltyTier>}
     * @memberof LoyaltyProgram
     */
    tiers?: Array<LoyaltyTier>;
    /**
     * A string containing an IANA timezone descriptor.
     * @type {string}
     * @memberof LoyaltyProgram
     */
    timezone: string;
    /**
     * Defines the type of loyalty program:
     * - `true`: the program is a card-based.
     * - `false`: the program is profile-based.
     * 
     * @type {boolean}
     * @memberof LoyaltyProgram
     */
    cardBased: boolean;
    /**
     * `True` if the tier definitions can be updated.
     * 
     * @type {boolean}
     * @memberof LoyaltyProgram
     */
    canUpdateTiers?: boolean;
    /**
     * `True` if the tier expiration policy can be updated.
     * 
     * @type {boolean}
     * @memberof LoyaltyProgram
     */
    canUpdateTierExpirationPolicy?: boolean;
    /**
     * `True` if the program can be upgraded to use the `tiersExpireIn` and `tiersDowngradePolicy` properties.
     * 
     * @type {boolean}
     * @memberof LoyaltyProgram
     */
    canUpgradeToAdvancedTiers?: boolean;
    /**
     * `True` if the `allowSubledger` property can be updated in the loyalty program.
     * 
     * @type {boolean}
     * @memberof LoyaltyProgram
     */
    canUpdateSubledgers?: boolean;
}


/**
 * @export
 */
export const LoyaltyProgramProgramJoinPolicyEnum = {
    NotJoin: 'not_join',
    PointsActivated: 'points_activated',
    PointsEarned: 'points_earned'
} as const;
export type LoyaltyProgramProgramJoinPolicyEnum = typeof LoyaltyProgramProgramJoinPolicyEnum[keyof typeof LoyaltyProgramProgramJoinPolicyEnum];

/**
 * @export
 */
export const LoyaltyProgramTiersExpirationPolicyEnum = {
    TierStartDate: 'tier_start_date',
    ProgramJoinDate: 'program_join_date',
    CustomerAttribute: 'customer_attribute',
    AbsoluteExpiration: 'absolute_expiration'
} as const;
export type LoyaltyProgramTiersExpirationPolicyEnum = typeof LoyaltyProgramTiersExpirationPolicyEnum[keyof typeof LoyaltyProgramTiersExpirationPolicyEnum];

/**
 * @export
 */
export const LoyaltyProgramTiersDowngradePolicyEnum = {
    OneDown: 'one_down',
    BalanceBased: 'balance_based'
} as const;
export type LoyaltyProgramTiersDowngradePolicyEnum = typeof LoyaltyProgramTiersDowngradePolicyEnum[keyof typeof LoyaltyProgramTiersDowngradePolicyEnum];

/**
 * @export
 */
export const LoyaltyProgramReturnPolicyEnum = {
    OnlyPending: 'only_pending',
    WithinBalance: 'within_balance',
    Unlimited: 'unlimited'
} as const;
export type LoyaltyProgramReturnPolicyEnum = typeof LoyaltyProgramReturnPolicyEnum[keyof typeof LoyaltyProgramReturnPolicyEnum];


/**
 * Check if a given object implements the LoyaltyProgram interface.
 */
export function instanceOfLoyaltyProgram(value: object): value is LoyaltyProgram {
    if (!('id' in value) || value['id'] === undefined) return false;
    if (!('created' in value) || value['created'] === undefined) return false;
    if (!('accountID' in value) || value['accountID'] === undefined) return false;
    if (!('name' in value) || value['name'] === undefined) return false;
    if (!('timezone' in value) || value['timezone'] === undefined) return false;
    if (!('cardBased' in value) || value['cardBased'] === undefined) return false;
    return true;
}

export function LoyaltyProgramFromJSON(json: any): LoyaltyProgram {
    return LoyaltyProgramFromJSONTyped(json, false);
}

export function LoyaltyProgramFromJSONTyped(json: any, ignoreDiscriminator: boolean): LoyaltyProgram {
    if (json == null) {
        return json;
    }
    return {
        
        'id': json['id'],
        'created': (new Date(json['created'])),
        'title': json['title'] == null ? undefined : json['title'],
        'description': json['description'] == null ? undefined : json['description'],
        'subscribedApplications': json['subscribedApplications'] == null ? undefined : json['subscribedApplications'],
        'defaultValidity': json['defaultValidity'] == null ? undefined : json['defaultValidity'],
        'defaultPending': json['defaultPending'] == null ? undefined : json['defaultPending'],
        'allowSubledger': json['allowSubledger'] == null ? undefined : json['allowSubledger'],
        'usersPerCardLimit': json['usersPerCardLimit'] == null ? undefined : json['usersPerCardLimit'],
        'sandbox': json['sandbox'] == null ? undefined : json['sandbox'],
        'programJoinPolicy': json['programJoinPolicy'] == null ? undefined : json['programJoinPolicy'],
        'tiersExpirationPolicy': json['tiersExpirationPolicy'] == null ? undefined : json['tiersExpirationPolicy'],
        'tierCycleStartDate': json['tierCycleStartDate'] == null ? undefined : (new Date(json['tierCycleStartDate'])),
        'tiersExpireIn': json['tiersExpireIn'] == null ? undefined : json['tiersExpireIn'],
        'tiersDowngradePolicy': json['tiersDowngradePolicy'] == null ? undefined : json['tiersDowngradePolicy'],
        'cardCodeSettings': json['cardCodeSettings'] == null ? undefined : CodeGeneratorSettingsFromJSON(json['cardCodeSettings']),
        'returnPolicy': json['returnPolicy'] == null ? undefined : json['returnPolicy'],
        'accountID': json['accountID'],
        'name': json['name'],
        'tiers': json['tiers'] == null ? undefined : ((json['tiers'] as Array<any>).map(LoyaltyTierFromJSON)),
        'timezone': json['timezone'],
        'cardBased': json['cardBased'],
        'canUpdateTiers': json['canUpdateTiers'] == null ? undefined : json['canUpdateTiers'],
        'canUpdateTierExpirationPolicy': json['canUpdateTierExpirationPolicy'] == null ? undefined : json['canUpdateTierExpirationPolicy'],
        'canUpgradeToAdvancedTiers': json['canUpgradeToAdvancedTiers'] == null ? undefined : json['canUpgradeToAdvancedTiers'],
        'canUpdateSubledgers': json['canUpdateSubledgers'] == null ? undefined : json['canUpdateSubledgers'],
    };
}

export function LoyaltyProgramToJSON(json: any): LoyaltyProgram {
    return LoyaltyProgramToJSONTyped(json, false);
}

export function LoyaltyProgramToJSONTyped(value?: LoyaltyProgram | null, ignoreDiscriminator: boolean = false): any {
    if (value == null) {
        return value;
    }

    return {
        
        'id': value['id'],
        'created': value['created'].toISOString(),
        'title': value['title'],
        'description': value['description'],
        'subscribedApplications': value['subscribedApplications'],
        'defaultValidity': value['defaultValidity'],
        'defaultPending': value['defaultPending'],
        'allowSubledger': value['allowSubledger'],
        'usersPerCardLimit': value['usersPerCardLimit'],
        'sandbox': value['sandbox'],
        'programJoinPolicy': value['programJoinPolicy'],
        'tiersExpirationPolicy': value['tiersExpirationPolicy'],
        'tierCycleStartDate': value['tierCycleStartDate'] == null ? value['tierCycleStartDate'] : value['tierCycleStartDate'].toISOString(),
        'tiersExpireIn': value['tiersExpireIn'],
        'tiersDowngradePolicy': value['tiersDowngradePolicy'],
        'cardCodeSettings': CodeGeneratorSettingsToJSON(value['cardCodeSettings']),
        'returnPolicy': value['returnPolicy'],
        'accountID': value['accountID'],
        'name': value['name'],
        'tiers': value['tiers'] == null ? undefined : ((value['tiers'] as Array<any>).map(LoyaltyTierToJSON)),
        'timezone': value['timezone'],
        'cardBased': value['cardBased'],
        'canUpdateTiers': value['canUpdateTiers'],
        'canUpdateTierExpirationPolicy': value['canUpdateTierExpirationPolicy'],
        'canUpgradeToAdvancedTiers': value['canUpgradeToAdvancedTiers'],
        'canUpdateSubledgers': value['canUpdateSubledgers'],
    };
}

